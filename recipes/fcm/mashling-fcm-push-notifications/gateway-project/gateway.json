{
    "mashling_schema": "0.2",
    "gateway": {
      "name": "gwPushNotifications",
      "version": "1.0.0",
      "display_name":"Mashling Push Notifications",
      "display_image":"displayImage.svg",
      "description": "This gateway that content routes to FCM cloud functions which sends notification messages or data messages to registered client devices.",
      "configurations": [
        {
          "name": "restConfig",
          "type": "github.com/TIBCOSoftware/mashling/ext/flogo/trigger/gorillamuxtrigger",
          "description": "Configuration for rest trigger",
          "settings": {
            "port": "9096"
          }
        }
      ],
      "triggers": [
        {
          "name": "rest_trigger",
          "description": "Rest trigger",
          "type": "github.com/TIBCOSoftware/mashling/ext/flogo/trigger/gorillamuxtrigger",
          "settings": {
            "config": "${configurations.restConfig}",
            "method": "POST",
            "path": "/notification",
            "optimize":"true"
          }
        }
      ],
      "event_handlers": [
        {
          "name": "invoke_fcm_cloud_function",
          "description": "FCM cloud function - Sends push notifications to registered client devices.",
          "reference": "github.com/rameshpolishetti/demoJSON/flow/tunableRESTInvokerPOST.json"
        }
      ],
      "event_links": [
        {
          "triggers": ["rest_trigger"],
          "dispatches": [
            {
              "handler": "invoke_fcm_cloud_function",
              "inputParams":{
                "content":"${content}",
                "endPoint":"https://us-central1-test-8cdf6.cloudfunctions.net/sendPushNotification"
              }
            }
          ]
        }
      ]
    }
  }